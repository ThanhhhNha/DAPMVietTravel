@model VietTravel.Models.Tour

@{
    ViewBag.Title = Model.TenTour; // Đặt tiêu đề của trang là tên tour
    var imageFileName = Model.MaTour + ".jpg";
}

<div class="tour-detail-container" style="display: flex; flex-wrap: wrap; gap: 20px;">
    <!-- Phần tiêu đề -->
    <div style="width: 100%;">
        <h1 style="font-size: 32px; font-weight: bold; text-align: center;">@Model.TenTour</h1>
    </div>
    
    <!-- Hiển thị hình ảnh của tour theo MaTour -->
    <div class="tour-detail-image" style="flex-basis: 100%; text-align: center;">
        <img alt="@Model.TenTour"
             loading="lazy"
             width="600"
             height="400"
             decoding="async"
             src="@Url.Content("~/image/tour/" + imageFileName)"
             style="color: transparent; border-radius: 10px; max-width: 600px; width: 100%;" />
    </div>

    <!-- Phần thông tin tour -->
    <div class="tour-detail-info" style="flex-grow: 1; max-width: 600px; margin-top: 20px;">
        <p><strong>Mô tả:</strong> @Model.MoTa</p>
        <p><strong>Ngày khởi hành:</strong> @Model.NgayKhoiHanh.ToString("dd/MM/yyyy")</p>
        <p><strong>Số ngày:</strong> @Model.ThoiGian</p>
        <p><strong>Giá:</strong> @String.Format("{0:0,0 VNĐ}", Model.Gia)</p>
    </div>
</div>



<!-- Thêm các nút vào đây -->
<div class="tour-contact">
    <div class="tour-contact--contact-group">
        <!-- Nút chọn ngày khởi hành -->
        <button class="btn-book rounded-lg btn-pickDate btn-pickDate-mobile button" type="button" aria-label="Chọn ngày khởi hành">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
                <!-- SVG Icon here -->
            </svg>
            Chọn ngày khởi hành
        </button>

        <!-- Nút gọi miễn phí qua internet -->
        <button class="btn-sm btn-blue btn-phone button" type="button" aria-label="Gọi miễn phí qua internet">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
                <!-- SVG Icon here -->
            </svg>
            Gọi miễn phí qua internet
        </button>

        <!-- Nút liên hệ tư vấn -->
        <button class="btn-sm btn-transparent btn-mail button" type="button" aria-label="Gửi yêu cầu hỗ trợ ngay">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
                <!-- SVG Icon here -->
            </svg>
            Liên hệ tư vấn
        </button>
    </div>
</div>
<!-- Lịch khởi hành -->
<div class="section-detail" id="tour-info">
    <h3 class="title">Lịch khởi hành</h3>
    <div class="calendar--tour">
        <div class="calendar--tour__month box-shadow">
            <div class="calendar--tour__month__title">
                <h4>Chọn tháng</h4>
            </div>
            <div class="calendar--tour__month__list">
                <div class="calendar--tour__month__list--item selectedMonth" data-month="10" data-year="2024">10/2024</div>
                <div class="calendar--tour__month__list--item month" data-month="11" data-year="2024">11/2024</div>
                <div class="calendar--tour__month__list--item month" data-month="12" data-year="2024">12/2024</div>
                <div class="calendar--tour__month__list--item month" data-month="1" data-year="2025">1/2025</div>
                <div class="calendar--tour__month__list--item month" data-month="2" data-year="2025">2/2025</div>
            </div>
        </div>
        <div class="calendar--tour__days box-shadow" id="calendar-days">
            <div class="calendar-weekdays">
                <div>CN</div>
                <div>Hai</div>
                <div>Ba</div>
                <div>Tư</div>
                <div>Năm</div>
                <div>Sáu</div>
                <div>Bảy</div>
            </div>
            <div class="calendar-dates"></div>
        </div>
        <div class="calendar--tour__days box-shadow" id="calendar-days">
            <!-- Các ngày trong tháng sẽ được tạo ra ở đây -->
        </div>
    </div>
    <span class="text-danger calendar-warning"><i>Quý khách vui lòng chọn ngày phù hợp</i></span>
    <div id="tour-details" style="margin-top: 20px;">
        <!-- Thông tin chi tiết tour sẽ được hiển thị tại đây sau khi chọn ngày -->
    </div>
    <!-- Trường ẩn chứa mã tour -->
    <input type="hidden" id="maTour" value="@Model.MaTour" />

    <div class="tour-detail-back">
        <a href="@Url.Action("DuLichTravel", "Travel")" class="btn btn-secondary">Quay lại danh sách tour</a>
        <script src="~/Scripts/calendar.js"></script>
    </div>


    <style>
        /* CSS đã được cập nhật để giữ bố cục gọn gàng */
        .tour-detail-container {
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: auto;
        }

        .tour-detail-image {
            margin-bottom: 20px;
        }

        .tour-detail-info {
            font-size: 18px;
            line-height: 1.6;
        }

        .tour-detail-back {
            margin-top: 20px;
        }

        .btn-secondary {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
        }

            .btn-secondary:hover {
                background-color: #0056b3;
            }
        /* CSS cho phần lịch khởi hành */
        .calendar-container {
            display: flex;
            gap: 20px;
        }

        /* CSS cho phần tháng */
        .calendar-months {
            display: flex;
            flex-direction: row;
            gap: 10px; /* Khoảng cách giữa các tháng */
        }

            .calendar-months ul {
                list-style: none;
                padding: 0;
                display: flex; /* Để các mục tháng hiển thị theo hàng ngang */
            }

        .calendar-months-item {
            padding: 10px;
            background-color: #f1f1f1;
            cursor: pointer;
            border-radius: 5px;
        }

            .calendar-months-item.selected-month {
                background-color: #0046d5;
                color: white;
            }


        .calendar-days {
            flex-grow: 1;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 20px;
            margin-bottom: 10px;
        }

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .calendar-dates {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

            .calendar-dates div {
                text-align: center;
                padding: 10px;
                background-color: #f9f9f9;
                border-radius: 5px;
                cursor: pointer;
                transition: background-color 0.3s; /* Thêm hiệu ứng chuyển màu */
            }

                .calendar-dates div:hover {
                    background-color: #0046d5; /* Màu khi hover */
                    color: white;
                }

                .calendar-dates div.special {
                    background-color: #ff9f00;
                    color: white;
                }

                    .calendar-dates div.special::after {
                        content: '🎁'; /* Biểu tượng quà tặng */
                        display: block;
                        font-size: 12px;
                        margin-top: 5px;
                    }

                .calendar-dates div.price {
                    color: red;
                    font-weight: bold;
                }

        .calendar-dates-item {
            text-align: center;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
            cursor: pointer;
        }

            .calendar-dates-item.selected {
                background-color: #0046d5;
                color: white;
            }

